阿里短信业务
======
Created Monday 02 July 2018

如何接入阿里云短信服务 （完整指南）：https://yq.aliyun.com/articles/252987?spm=a2c4e.11163080.searchblog.77.12282ec1CJYXdb

1：注册并实名认证
2：开通短信服务
3：获取AccessKey：AccessKey 相当于API 秘钥，通过阿里云RAM产品创建后，即可用于管理您的短信API

3.1.创建AccessKey: 点击创建AccessKey
3.1.1登录RAM管理控制台。
3.1.2在左侧导航栏，单击用户管理。
3.1.3 单击目标用户，或创建一个新用户，进入用户详情页面。
3.1.4在用户AccessKey区域，单击创建AccessKey。
AccessKeyId：LTAIUZW3zkPBWKrc
AccessKeySecret：Tyliz7LxlVppRCgdntgKRaXVH6hKvk

3.1.5在弹出的对话框中，展开AccessKey详情查看查看AcessKeyId和AccessKeySecret。然后单击保存AK信息，下载AccessKey信息。
3.2.获取Access Key ID和Access Key Secret：点击查看Access Key ID和Access Key Secret

4：创建短信模板

4.1. 创建签名前查看短信规则和审核规则：短信业务规则，审核规则

4.2. 创建短信
4.2.1创建短信签名：短信中附带的发送者信息，例如入驻企业为：阿里巴巴网络技术有限公司，可以提交的签名为：【阿里巴巴】

1) 通过控制台左侧导航，点击“短信签名”，进入签名管理页
2) 点击右上角“创建短信签名”进入创建签名页，根据用途上传相应证明材料

请根据短信的用途正确选择签名类型，避免申请被驳回

验证码短信：用于发送验证码类短信，如登录验证、支付确认、登录异常等

短信通知：用于发送系统通知类短信，如物流通知、付款回执、状态通知等

推广短信：用于发送营销推广类短信，如会员关怀、新品上线、活动通知等

请根据短信的用途正确选择“自用”、“他用”、“其他”，避免申请被驳回：
自用，签名为本账号实名认证公司的公司名/产品名/网站名等：您当前为企业认证，签名使用场景是为您的企业的公司名、产品名或网站名等。
他用，签名为他人（非本账号实名认证公司）公司名/产品名/网站名等：您当前为企业认证，签名使用场景是为您企业之外的其他企业的公司名、产品名或网站名。
其他，签名为“他用”且该企业是学校、医院、机关事业单位、媒体、报社：您当前为企业认证，签名使用场景是为您企业之外的学校、医院、机关事业单位、媒体、报社等公司旗下的公司名、产品名或网站名。

3) 审核通过后，可以在“短信签名”中查看签名内容，该字符串是短信发送接口的必填入参（入参填写请参照https://help.aliyun.com/document_detail/55284.html?spm=5176.doc55327.6.551.ASST2P）

4.2.2创建短信模板 （短信模板即短信的主体内容）
1) 通过控制台左侧导航，点击“短信模板”，进入模板管理页，点击创建模板进入：
 2) 编辑短信内容
验证码短信：用于发送验证码类短信，如登录验证、支付确认、登录异常等
短信通知：用于发送系统通知类短信，如物流通知、付款回执、状态通知等
推广短信：用于发送营销推广类短信，如会员关怀、新品上线、活动通知等
3）审核通过后，可以在“短信模板”中查看模板ID，该ID是短信发送接口的必填入参

5：短信接口配置

5.1.设置访问权限控制： 点击访问权限控制
5.1.1 使用主账号登录访问RAM控制台
5.1.2 创建RAM用户 ，或授权给已有的RAM用户
5.1.3 给RAM用户授权
5.1.4 选择短信相关的权限，授权给RAM用户

1、AliyunDysmsFullAccess
用于管理短信服务(SMS)的权限
拥有此权限后
能够使用短信服务控制台的所有操作
能够调用短信服务的所有接口

2、AliyunDysmsReadOnlyAccess
用于只读短信服务(SMS)的权限
拥有此权限后
能够使用短信服务的只读权限，能够看到控制台所有页面，但无法使用新增或删除等功能
能够使用短信服务的查询类接口

*相关文档：短信查询API

3、AliyunCloudCommunicationFullAccess

用于管理云通信财务(CloudCommunication)的权限

拥有此权限后

能够操作子账户转入、转出、申请发票等功能

*相关文档：云通信子账户是什么

4、AliyunCloudCommunicationReadOnlyAccess

用于查询云通信财务(CloudCommunication)的权限

拥有此权限后

能够使用云通信子账户的查询余额、查询充值记录等


